!function(){function t(){try{var t=window.localStorage,e="storage_test";return t.setItem(e,e),t.removeItem(e),!0}catch(t){return T.log.error("Unable to access window.localStorage"),!1}}function e(){try{return JSON.stringify([]),!0}catch(t){return T.log.error("Unable to parse JSON"),!1}}function r(t){function e(t){for(var e=[],i=0;i<t.length;i++){var o=t[i];e.push(r(o))}return e.join("|")}function i(t){var e=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"string"==typeof i&&(i=o(i)),e.push([o(r),i].join(":"))}return e.join(",")}function o(t){return t.replace(/[|,:]/g," ")}return"[object Array]"===Object.prototype.toString.call(t)?e(t):"object"==typeof t?i(t):"string"==typeof t?o(t):t}function i(t){if("string"==typeof t){if("?"===t[0]&&(t=t.substring(1)),!t)return;for(var e=t.split("&"),r=0;r<e.length;r++){var i=e[r].split("="),o=i[0],n=(i[1]||"").replace(/\+/g,"%20");this[decodeURIComponent(o)]=decodeURIComponent(n)}}else if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&t[o]&&(this[o]=t[o])}function o(t){this.tracker=t,this.pollInterval=1e3,this.handlers={},this.elements={}}function n(){this.id=T.createUUID()}function a(){var t=(new Date).getTime(),e=Math.ceil(1e10*Math.random());return"anon-"+t+"-"+e}function s(t,e,r,i){t=["esp",t||"-1",encodeURIComponent(e||"")].join(":");var o=r+E,n=[t,r].join(":");T.storage.create(O.micpn,n,o,i.domain,i.secure)}function c(t,e,r){var i=(new Date).getTime()+C,o=[t,e].join("_");T.storage.create(O.mibhv,o,i,r.domain,r.secure)}function p(t){var e=(new Date).getTime()+C;T.storage.create(O.optOut,"1",e,t.domain,t.secure)}function u(t){return t&&D.test(t)}function h(t,e,r){return r&&t&&e&&t!==e}function m(t){var e=/^(\w+?):(\d+)$/,r=t&&t.match(e);return r&&{type:"standard",campaignKey:r[1],espKey:"",timestamp:new Date(parseInt(r[2],10))}}function l(t){var e=/^esp:([^;:,\s]+|):([^;:,\s]+|):(\d+)/,r=t&&t.match(e);return r&&{type:"esp",campaignKey:r[1]||-1,espKey:decodeURIComponent(r[2]),timestamp:new Date(parseInt(r[3],10))}}function d(t,e){var r=/^(.+)_(\d+)$/,i=t&&t.match(r);return i&&{user:i[1],companyId:i[2],anonymous:u(i[1]),hasCookie:e}}function f(t){this.tracker=t}function g(t){this.tracker=t,this.billing=new n,this.enableData=!0,this.clearSavedData=!1,this.data=new i,this.cookieData=g.parseDataCookie(this.tracker.cookies[O.midat]),this.customData=new i,this.urlData=this.getUrlParams(),this.enableDynamicInsertion=false,this.isPreview="true"===this.tracker.urlParams[g.PREVIEW_PARAM]}function v(){var t="MovableInkTrack",e=v.getLocalStorage();this.cookies=T.merge(e,v.getCookies()),this.trackingFunctionName=window[t]||"_miconv",this.trackingFunction=window[this.trackingFunctionName]||[],this.queue=this.trackingFunction.q||window._miconv||[],this.urlParams=new i(window.location.search),this.customJS=new f(this),this.elementEventPoller=new o(this),this.webContent=new g(this),this.domains=v.getDomains(),this.cookieOptions={domain:null,secure:"https"===this.domains.protocol}}var Sizzle=(function(e){var t,n,r,i,o,u,l,a,c,s,f,d,p,h,g,m,y,w,v,b="sizzle"+1*new Date,N=e.document,x=0,C=0,E=lt(),D=lt(),A=lt(),T=function(e,t){return e===t&&(f=!0),0},S={}.hasOwnProperty,L=[],I=L.pop,q=L.push,B=L.push,R=L.slice,$=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",M="\\["+P+"*("+H+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+P+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(P+"+","g"),j=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),z=new RegExp("^"+P+"*,"+P+"*"),G=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),U=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(F),X=new RegExp("^"+H+"$"),J={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,W=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),et=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(e,t){return t?"\x00"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},rt=function(){d()},it=vt(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{B.apply(L=R.call(N.childNodes),N.childNodes),L[N.childNodes.length].nodeType}catch(ot){B={apply:L.length?function(e,t){q.apply(e,R.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function ut(e,t,r,i){var o,l,c,s,f,h,y,w=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&((t?t.ownerDocument||t:N)!==p&&d(t),t=t||p,g)){if(11!==x&&(f=Y.exec(e)))if(o=f[1]){if(9===x){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(w&&(c=w.getElementById(o))&&v(t,c)&&c.id===o)return r.push(c),r}else{if(f[2])return B.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return B.apply(r,t.getElementsByClassName(o)),r}if(!(!n.qsa||A[e+" "]||m&&m.test(e))){if(1!==x)w=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(s=t.getAttribute("id"))?s=s.replace(tt,nt):t.setAttribute("id",s=b),h=u(e),l=h.length;while(l--)h[l]="#"+s+" "+wt(h[l]);y=h.join(","),w=Z.test(e)&&mt(t.parentNode)||t}if(y)try{return B.apply(r,w.querySelectorAll(y)),r}catch(C){}finally{s===b&&t.removeAttribute("id")}}}return a(e.replace(j,"$1"),t,r,i)}function lt(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function at(e){return e[b]=!0,e}function ct(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function st(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ft(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&it(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function gt(e){return at(function(t){return t=+t,at(function(n,r){var i,o=e([],n.length,t),u=o.length;while(u--)n[i=o[u]]&&(n[i]=!(r[i]=n[i]))})})}function mt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=ut.support={},o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},d=ut.setDocument=function(e){var t,i,u=e?e.ownerDocument||e:N;return u!==p&&9===u.nodeType&&u.documentElement?(p=u,h=p.documentElement,g=!o(p),N!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ct(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ct(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=W.test(p.getElementsByClassName),n.getById=ct(function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(_,et);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(_,et);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&g?t.getElementsByClassName(e):void 0},y=[],m=[],(n.qsa=W.test(p.querySelectorAll))&&(ct(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+k+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ct(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=W.test(w=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ct(function(e){n.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),y.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=W.test(h.compareDocumentPosition),v=t||W.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===N&&v(N,e)?-1:t===p||t.ownerDocument===N&&v(N,t)?1:s?$(s,e)-$(s,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:s?$(s,e)-$(s,t):0;if(i===o)return ft(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?ft(u[r],l[r]):u[r]===N?-1:l[r]===N?1:0},p):p},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(U,"='$1']"),!(!n.matchesSelector||!g||A[t+" "]||y&&y.test(t)||m&&m.test(t)))try{var r=w.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ut(t,p,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),v(e,t)},ut.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&S.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ut.escape=function(e){return(e+"").replace(tt,nt)},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,s=!n.sortStable&&e.slice(0),e.sort(T),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return s=null,e},i=ut.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ut.selectors={cacheLength:50,createPseudo:at,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_,et),e[3]=(e[3]||e[4]||e[5]||"").replace(_,et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_,et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(O," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),u="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var c,s,f,d,p,h,g=o!==u?"nextSibling":"previousSibling",m=t.parentNode,y=l&&t.nodeName.toLowerCase(),w=!a&&!l,v=!1;if(m){if(o){while(g){d=t;while(d=d[g])if(l?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[u?m.firstChild:m.lastChild],u&&w){d=m,f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),c=s[e]||[],p=c[0]===x&&c[1],v=p&&c[2],d=p&&m.childNodes[p];while(d=++p&&d&&d[g]||(v=p=0)||h.pop())if(1===d.nodeType&&++v&&d===t){s[e]=[x,p,v];break}}else if(w&&(d=t,f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),c=s[e]||[],p=c[0]===x&&c[1],v=p),v===!1)while(d=++p&&d&&d[g]||(v=p=0)||h.pop())if((l?d.nodeName.toLowerCase()===y:1===d.nodeType)&&++v&&(w&&(f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),s[e]=[x,v]),d===t))break;return v-=i,v===r||v%r===0&&v/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,o=i(e,t),u=o.length;while(u--)r=$(e,o[u]),e[r]=!(n[r]=o[u])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=l(e.replace(j,"$1"));return r[b]?at(function(e,t,n,i){var o,u=r(e,null,i,[]),l=e.length;while(l--)(o=u[l])&&(e[l]=!(t[l]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ut(e,t).length>0}}),contains:at(function(e){return e=e.replace(_,et),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(_,et).toLowerCase(),function(t){var n;do if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(e,t){return[t-1]}),eq:gt(function(e,t,n){return[0>n?n+t:n]}),even:gt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:gt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:gt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:gt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=dt(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);function yt(){}yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,u=ut.tokenize=function(e,t){var n,i,o,u,l,a,c,s=D[e+" "];if(s)return t?0:s.slice(0);l=e,a=[],c=r.preFilter;while(l){(!n||(i=z.exec(l)))&&(i&&(l=l.slice(i[0].length)||l),a.push(o=[])),n=!1,(i=G.exec(l))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),l=l.slice(n.length));for(u in r.filter)!(i=J[u].exec(l))||c[u]&&!(i=c[u](i))||(n=i.shift(),o.push({value:n,type:u,matches:i}),l=l.slice(n.length));if(!n)break}return t?l.length:l?ut.error(e):D(e,a).slice(0)};function wt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,i=t.next,o=i||r,u=n&&"parentNode"===o,l=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||u)return e(t,n,i);return!1}:function(t,n,a){var c,s,f,d=[x,l];if(a){while(t=t[r])if((1===t.nodeType||u)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||u)if(f=t[b]||(t[b]={}),s=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=s[o])&&c[0]===x&&c[1]===l)return d[2]=c[2];if(s[o]=d,d[2]=e(t,n,a))return!0}return!1}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Nt(e,t,n){for(var r=0,i=t.length;i>r;r++)ut(e,t[r],n);return n}function xt(e,t,n,r,i){for(var o,u=[],l=0,a=e.length,c=null!=t;a>l;l++)(o=e[l])&&(!n||n(o,r,i))&&(u.push(o),c&&t.push(l));return u}function Ct(e,t,n,r,i,o){return r&&!r[b]&&(r=Ct(r)),i&&!i[b]&&(i=Ct(i,o)),at(function(o,u,l,a){var c,s,f,d=[],p=[],h=u.length,g=o||Nt(t||"*",l.nodeType?[l]:l,[]),m=!e||!o&&t?g:xt(g,d,e,l,a),y=n?i||(o?e:h||r)?[]:u:m;if(n&&n(m,y,l,a),r){c=xt(y,p),r(c,[],l,a),s=c.length;while(s--)(f=c[s])&&(y[p[s]]=!(m[p[s]]=f))}if(o){if(i||e){if(i){c=[],s=y.length;while(s--)(f=y[s])&&c.push(m[s]=f);i(null,y=[],c,a)}s=y.length;while(s--)(f=y[s])&&(c=i?$(o,f):d[s])>-1&&(o[c]=!(u[c]=f))}}else y=xt(y===u?y.splice(h,y.length):y),i?i(null,u,y,a):B.apply(u,y)})}function Et(e){for(var t,n,i,o=e.length,u=r.relative[e[0].type],l=u||r.relative[" "],a=u?1:0,s=vt(function(e){return e===t},l,!0),f=vt(function(e){return $(t,e)>-1},l,!0),d=[function(e,n,r){var i=!u&&(r||n!==c)||((t=n).nodeType?s(e,n,r):f(e,n,r));return t=null,i}];o>a;a++)if(n=r.relative[e[a].type])d=[vt(bt(d),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[b]){for(i=++a;o>i;i++)if(r.relative[e[i].type])break;return Ct(a>1&&bt(d),a>1&&wt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(j,"$1"),n,i>a&&Et(e.slice(a,i)),o>i&&Et(e=e.slice(i)),o>i&&wt(e))}d.push(n)}return bt(d)}function Dt(e,t){var n=t.length>0,i=e.length>0,o=function(o,u,l,a,s){var f,h,m,y=0,w="0",v=o&&[],b=[],N=c,C=o||i&&r.find.TAG("*",s),E=x+=null==N?1:Math.random()||.1,D=C.length;for(s&&(c=u===p||u||s);w!==D&&null!=(f=C[w]);w++){if(i&&f){h=0,u||f.ownerDocument===p||(d(f),l=!g);while(m=e[h++])if(m(f,u||p,l)){a.push(f);break}s&&(x=E)}n&&((f=!m&&f)&&y--,o&&v.push(f))}if(y+=w,n&&w!==y){h=0;while(m=t[h++])m(v,b,u,l);if(o){if(y>0)while(w--)v[w]||b[w]||(b[w]=I.call(a));b=xt(b)}B.apply(a,b),s&&!o&&b.length>0&&y+t.length>1&&ut.uniqueSort(a)}return s&&(x=E,c=N),v};return n?at(o):o}return l=ut.compile=function(e,t){var n,r=[],i=[],o=A[e+" "];if(!o){t||(t=u(e)),n=t.length;while(n--)o=Et(t[n]),o[b]?r.push(o):i.push(o);o=A(e,Dt(i,r)),o.selector=e}return o},a=ut.select=function(e,t,n,i){var o,a,c,s,f,d="function"==typeof e&&e,p=!i&&u(e=d.selector||e);if(n=n||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&g&&r.relative[a[1].type]){if(t=(r.find.ID(c.matches[0].replace(_,et),t)||[])[0],!t)return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}o=J.needsContext.test(e)?0:a.length;while(o--){if(c=a[o],r.relative[s=c.type])break;if((f=r.find[s])&&(i=f(c.matches[0].replace(_,et),Z.test(a[0].type)&&mt(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&wt(a),!e)return B.apply(n,i),n;break}}}return(d||l(e,p))(i,t,!g,n,!t||Z.test(e)&&mt(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=ct(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||st("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ct(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||st("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ct(function(e){return null==e.getAttribute("disabled")})||st(k,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ut})(window);
;var y="",k="",b="",w="4171",P="/p/cp/",_=864e5,E=4*_,C=730*_-_,I=7*_,D=/^anon-\d{13}-\d{1,11}$/,O={mibhv:"_mibhv",micpn:"_micpn",midat:"_midat",optOut:"_mioptout"},A=1e3,x=500,R=4*x,S=40*x,T={isSupportedBrowser:t()&&e(),trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},bind:function(t,e){return function(){return e.apply(t,arguments)}},addListener:function(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on"+e,r)},createUUID:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)})},bubbledMatchesSelector:function(t,e,r){for(var i=t,o=0;o<(r||5);o++){if(null===i)return!1;if(Sizzle.matchesSelector(i,e))return!0;i=i.parentElement}return!1},cleanString:function(t){return t.replace(/[^\w.\-@]/gi,"")},cleanObject:function(t){for(var e in t)t.hasOwnProperty(e)&&!T.trim(t[e].toString())&&delete t[e];return t},isEmptyObject:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},merge:function(t){if(arguments.length&&"object"==typeof t){for(var e=Array.prototype.slice.call(arguments,1),r=0,i=e.length;r<i;r++)for(var o in e[r])e[r].hasOwnProperty(o)&&(t[o]=e[r][o]);return t}},setAttributes:function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setAttribute(r,e[r])},storage:{parseCookie:function(t){for(var e={},r=t.split(";"),i=0;i<r.length;i++){var o=T.trim(r[i]).split("="),n=o[0],a=o.slice(1).join("=");0===i?(e.name=n,e.value=a):e[n.toLowerCase()]=a}return e},createCookie:function(t){document.cookie=t},create:function(t,e,r,i,o){var n=e+"; Expires="+new Date(r).toUTCString()+"; Path=/;";i&&(n+=" Domain="+i+";"),o===!0&&(n+=" Secure;",n+=" SameSite=None;"),T.storage.createCookie(t+"="+n),T.isSupportedBrowser&&window.localStorage.setItem(t,n)},remove:function(t,e,r){T.storage.create(t,"",0,e,r),T.storage.create(t,"",0,null,r),T.isSupportedBrowser&&window.localStorage.removeItem(t)}},log:{debug:function(t){window.location.hash.match(/midebug/)&&console.log(t)},error:function(t){window.location.hash.match(/midebug/)&&console.error(t)}}};i.prototype.encode=function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)&&this[e]){var i=this[e];"string"!=typeof i&&(i=r(i));var o=[encodeURIComponent(e),encodeURIComponent(i)].join("=");t.push(o)}return t.join("&")},o.prototype.start=function(){setInterval(T.bind(this,this.poll),this.pollInterval)},o.prototype.poll=function(){for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var e=Sizzle(t)[0],r=this.elements[t];if(this.elements[t]=e,e&&!r)for(var i in this.handlers[t])this.handlers[t].hasOwnProperty(i)&&T.addListener(e,"click",this.handlers[t][i])}},o.prototype.add=function(t,e,r){var i=this,o;if(o=e?function(){i.tracker.push(t,i.tracker.customJS._expandPageData(e))}:function(){i.tracker.push(t)},this.handlers[r]||(this.handlers[r]={}),!this.handlers[r][t]){this.handlers[r][t]=o;var n=Sizzle(r)[0];return n?(T.addListener(n,"click",o),void 0):(this.elements[r]=null,void 0)}},f.ATTRIBUTES={product:["title","id","price","url","categories","meta","image"],category:["title","id","url"],search:["search_term","url"]},f.prototype.trim=function(t){return T.trim(t)},f.prototype.exists=function(t,e){1!=arguments.length&&"object"==typeof t||(e=t,t=document);var r=Sizzle(e,t)[0];return!!r},f.prototype.attr=function(t,e,r){try{"object"!=typeof t&&(r=e,e=t,t=document);var i=Sizzle(e,t)[0];return i?r?i.getAttribute(r)||i[r]||"":this.textContent(i):""}catch(t){return T.log.debug(t.message+" for "+e+" -- "+r),""}},f.prototype.textContent=function(t){return t&&(t.textContent||t.innerText)||""},f.prototype.queryParam=function(t){return this.tracker.urlParams[t]},f.prototype.regexRetrieve=function(t,e,r){var i=e.match(t),o=i?i[r]:"";return o||""},f.prototype.addCategory=function(page,t,e,r){"object"!=typeof page&&(r=e,e=t,t=page,page=this.data);var i={id:encodeURIComponent(t),url:encodeURIComponent(e)};r&&(i.title=encodeURIComponent(r)),page.categories=page.categories||[],page.categories.push(i)},f.prototype.addMetaAttribute=function(page,t,e){"object"!=typeof page&&(e=t,t=page,page=this.data);var r=e.toString().toLowerCase();page.meta=page.meta||{},page.meta[t]=encodeURIComponent(r)},f.prototype.addBubbledEventToElement=function(t,e,r){var i=this;T.addListener(document.body,"click",function(o){T.bubbledMatchesSelector(o.target||o.srcElement,r)&&(e?i.tracker.push(t,i._expandPageData(e)):i.tracker.push(t))})},f.prototype.addEventToElement=function(t,e,r){this.tracker.elementEventPoller.add(t,e,r)},f.prototype.sendEvent=function(t,e){this.tracker.push(t,e)},f.prototype.waitForElements=function(t,e,r){var i=0,o=!1;if(r||"function"!=typeof e||(r=e,e=R),e=e>S?S:e,r){setTimeout(function(){o=!0},e);for(var n=0;n<t.length;n++){var a=t[n];!function(e){var n=setInterval(function(){o&&clearInterval(n),Sizzle(e)[0]&&(i++,clearInterval(n),i>=t.length&&r&&(r(),r=null))},x)}(a)}}},f.prototype.clearWebContentData=function(){this.tracker.webContent.clearSavedData=!0},f.prototype.disableWebContentPersonalization=function(){this.tracker.webContent.enableData=!1},f.prototype.enableKnownUserJailbreak=function(){this.tracker.enableKnownUserJailbreak()},f.prototype.setWebContentData=function(t){this.tracker.webContent.setCustomData(t)},f.prototype.setCompanyId=function(t){this.tracker.setCompanyId(t)},f.prototype.setCookieDomain=function(t){this.tracker.setCookieDomain(t)},f.prototype._expandPageData=function(t){var e={};for(var r in t)if(t.hasOwnProperty(r))if("function"==typeof t[r])try{e[r]=t[r]()}catch(t){e.js_error=t.toString(),T.log.error(t)}else e[r]=t[r];return e},f.prototype._getValidAttribute=function(t,e,r){var i=f.ATTRIBUTES[e];return e===t.type&&i&&i.indexOf(r)>=0?t[r]||null:null},f.prototype._execute=function(){var exists=this.exists,textContent=this.textContent,waitForElements=this.waitForElements,regexRetrieve=this.regexRetrieve,t=T.bind,trim=t(this,this.trim),attr=t(this,this.attr),queryParam=t(this,this.queryParam),addCategory=t(this,this.addCategory),addMetaAttribute=t(this,this.addMetaAttribute),addBubbledEventToElement=t(this,this.addBubbledEventToElement),addEventToElement=t(this,this.addEventToElement),sendEvent=t(this,this.sendEvent),clearWebContentData=t(this,this.clearWebContentData),disableWebContentPersonalization=t(this,this.disableWebContentPersonalization),enableKnownUserJailbreak=t(this,this.enableKnownUserJailbreak),setWebContentData=t(this,this.setWebContentData),setCompanyId=t(this,this.setCompanyId),setCookieDomain=t(this,this.setCookieDomain),page=this.data={params:{}};try{function getUrl(){var pageUrl=attr("link[rel='canonical']","href")||document.location.origin+document.location.pathname;return 0<=pageUrl.indexOf("http")?pageUrl:"https:"+pageUrl}function isWSJDomain(){return 0<=url.indexOf(".wsj.com")}function isArticlePage(){return 0<=url.indexOf("/articles/")}function isSignupPage(){return 0<=url.indexOf("store.wsj.com/v2")}function isCategoryPage(){return 0<=url.indexOf(".com/news")}function isSearchPage(){return 0<=document.URL.indexOf(".com/search/")}function assignCategories(){for(var breadcrumbs=Sizzle(".article-breadCrumb a"),i=0;i<breadcrumbs.length;i++){var url=breadcrumbs[i].href,id=url.split("/").pop();id&&(id=id.split("?")[0],addCategory(id,url))}}function assignEditionCategory(){waitForElements(["#full-header .style__masthead-strap_1M8tiEOK_ZstuN4MWbJKCc span"],function(){var edition=trim(attr("#full-header .style__masthead-strap_1M8tiEOK_ZstuN4MWbJKCc span","innerText"));edition&&(edition="edition-"+edition,addCategory(edition,""),sendEvent("pageview",page))})}function createCartAddEvents(){for(var cartAddButtons=Sizzle(".btn--alt"),i=0;i<cartAddButtons.length;i++){var cartAddButtonSelector="#join-button-"+i,itemDetailSelector=".price__text:eq("+i+")",itemPriceSelector=itemDetailSelector+" .price__name",cartAddData={title:getItemTitleFunc(itemDetailSelector+" .price__tagline"),id:getItemIdFunc(cartAddButtonSelector),price:getItemPriceFunc(itemPriceSelector),url:getItemUrlFunc(cartAddButtonSelector)};addEventToElement("cart_add",cartAddData,cartAddButtonSelector)}}function getItemTitleFunc(selector){return function(){return trim(attr(selector))}}function getItemIdFunc(selector){return function(){return trim(attr(selector,"href")).split("/").pop()}}function getItemPriceFunc(selector){return function(){return trim(attr(selector)).slice(1)}}function getItemUrlFunc(selector){return function(){return"https://store.wsj.com"+trim(attr(selector,"href"))}}var url=getUrl();setCompanyId(4171),isWSJDomain()&&(setCookieDomain("wsj.com"),isArticlePage()?(page.type="product",page.title=trim(attr(".wsj-article-headline")),page.id=url.split("-").pop(),page.url=url,assignCategories(),assignEditionCategory()):isSignupPage()?createCartAddEvents():isCategoryPage()?(page.type="category",page.title=page.id=url.split("/").pop(),page.url=url):isSearchPage()&&(page.type="search",page.search_term=decodeURIComponent(queryParam("KEYWORDS")),page.url=document.URL));}catch(t){page.js_error=t.toString(),T.log.error(t)}return this._expandPageData(page)},g.PREVIEW_PARAM="mi_preview",g.PARAM_PREFIX="_mi_save_",g.PARAM_PREFIX_LEN=g.PARAM_PREFIX.length,g.PARAM_MAX_KEY_LEN=50,g.PARAM_MAX_VAL_LEN=400,g.AFTER="after",g.BEFORE="before",g.REPLACE="replace",g.savableDataKey=function(t){return t.length-g.PARAM_PREFIX_LEN<=g.PARAM_MAX_KEY_LEN&&t.substring(0,9)===g.PARAM_PREFIX},g.parseDataCookie=function(t){var e=new i(t),r=new i;for(var o in e)e.hasOwnProperty(o)&&(r[g.PARAM_PREFIX+o]=e[o]);return r},g.sortContainers=function(t){for(var e={},r=0;r<t.length;r++){var i=t[r],o=i.position,n=i.selector,a=i.blocks,s={};s[g.AFTER]=[],s[g.BEFORE]=[],s[g.REPLACE]=[];var c=e[n]||s;switch(o){case g.AFTER:c.after=a.reverse().concat(c.after);break;case g.BEFORE:c.before=c.before.concat(a);break;case g.REPLACE:c.replace.length||(c.replace=[a[0]])}e[n]=c}return e},g.stripParamPrefix=function(t){var e={},r=new RegExp("^"+g.PARAM_PREFIX);for(var i in t)if(t.hasOwnProperty(i)){var o=i.replace(r,"");e[o]=t[i]}return e},g.prototype.createDataCookie=function(){var t=(new Date).getTime()+I,e=g.stripParamPrefix(this.data);e=i.prototype.encode.call(e),T.storage.create(O.midat,e,t,this.tracker.cookieOptions.domain,this.tracker.cookieOptions.secure)},g.prototype.getUrlParams=function(){var t={};for(var e in this.tracker.urlParams)this.tracker.urlParams.hasOwnProperty(e)&&g.savableDataKey(e)&&this.tracker.urlParams[e].length<=g.PARAM_MAX_VAL_LEN&&(t[e]=this.tracker.urlParams[e]);return t},g.prototype.findElements=function(){return Sizzle(".mi-web")},g.prototype.appendParams=function(t,e){var r=e.split("?"),o=this.enableData?this.data:{},n;return n="static"===t?T.merge(new i(r[1]),o,this.tracker.urlParams):this.populateMergeTags(new i(r[1]),o),e=r[0],n.mi_u=this.tracker.userIdentifier,n.mi_open_id=this.billing.id,e+"?"+n.encode()},g.prototype.populateMergeTags=function(t,e){var r=/^\{mi\:([^:\s]+)\:(\S+)\}$/i;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],n=o.match(r);if(n){var a=n[1],s=n[2];switch(a){case"page":var c={url:document.location.origin+document.location.pathname},o=c[s];o?this.setParamOrError(i,o,t,"Unable to capture "+s):T.log.error(t[i]+" was not populated: Merge tag is invalid");break;case"queryparams":var o=this.tracker.urlParams[s];this.setParamOrError(i,o,t,"No query parameter for merge tag");break;case"sitemap":var p=s.split(":"),u=p[0],o;if("type"===u)o=this.tracker.customData.type||null;else{var s=p[1]||"";o=this.tracker.customJS._getValidAttribute(this.tracker.customData,u,s)}this.setParamOrError(i,o,t,"Invalid merge tag or missing data");break;case"storage":var o=e[s]||e[g.PARAM_PREFIX+s];this.setParamOrError(i,o,t,"No stored data for merge tag");break;default:T.log.error('Merge tag namespace "'+a+'" is invalid')}}}return t},g.prototype.setParamOrError=function(t,e,r,i){e?r[t]=e:T.log.error(r[t]+" was not populated: "+i)},g.prototype.insertBlocks=function(t,e){var r={};r[g.AFTER]="afterend",r[g.BEFORE]="beforebegin";var i=[g.AFTER,g.BEFORE,g.REPLACE],o=Sizzle(t)[0];if(o)for(var n=0;n<i.length;n++){var a=i[n],s=e[a];if(s.length)if(a===g.REPLACE){var c=s[0];o.parentNode.replaceChild(this.embedCodeFromBlockType(c),o)}else for(var p=0;p<s.length;p++){var c=s[p];o.insertAdjacentElement(r[a],this.embedCodeFromBlockType(c))}}},g.prototype.embedCodeFromBlockType=function(t){return"html"===t.type?this.createHtmlEmbedCode(t):this.createImageEmbedCode(t)},g.prototype.createImageEmbedCode=function(t){var e=document.createElement("img");if(T.setAttributes(e,{id:"mi-"+t.key,class:"mi-web",alt:t.altText||"Display images to show real-time content",style:"border: 0;",border:"0",src:this.appendParams("dynamic",t.image)}),t.clickthrough){var r=document.createElement("a");return T.setAttributes(r,{href:this.appendParams("dynamic",t.clickthrough),style:"display: block;"}),r.appendChild(e),r}return e},g.prototype.createHtmlEmbedCode=function(t){var e=document.createElement("iframe"),r=["border: 0","margin: 0","height: "+t.height,"width: "+t.width].join(";")+";";return T.setAttributes(e,{id:"mi-"+t.key,class:"mi-web",src:this.appendParams("dynamic",t.link),title:t.name,role:"document",style:r,sandbox:"allow-top-navigation allow-scripts"}),e},g.prototype.populate=function(){this.populateDynamic(),this.populateStatic()},g.prototype.populateDynamic=function(){if(!T.isSupportedBrowser||!this.enableDynamicInsertion)return T.log.error("Dynamic web content is not supported on this browser"),void 0;if(!this.enableDynamicInsertion)return T.log.error("Dynamic web content is not enabled on this browser"),void 0;var t=this,e=new XMLHttpRequest,r=new i({url:document.URL});this.isPreview&&(r.preview="true");var o=[this.tracker.domains.protocol,"://",this.tracker.domains.content,"/p/wc?",r.encode()].join("");T.addListener(e,"load",function(){try{var r=JSON.parse(e.responseText),i=g.sortContainers(r);for(var o in i)i.hasOwnProperty(o)&&t.insertBlocks(o,i[o])}catch(e){t.tracker.push("error",{omni_error:e.toString()}),T.log.error("Failed to parse web content reponse")}}),T.addListener(e,"error",function(){var e="Failed web content request"+o;t.tracker.push("error",{omni_error:e}),T.log.error(e)}),e.open("GET",o),e.send()},g.prototype.populateStatic=function(){var t=this.findElements();try{for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],i=r.parentNode;i&&i.href&&(i.href=this.appendParams("static",i.href));var o=r.getAttribute("mi-src");o&&(r.setAttribute("src",this.appendParams("static",o)),r.style.display="")}}catch(t){this.tracker.push("error",{omni_error:t.toString()}),T.log.error(t)}},g.prototype.setCustomData=function(t){if(T.cleanObject(t),!T.isEmptyObject(t)){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[g.PARAM_PREFIX+r]=t[r]);T.merge(this.customData,e)}},g.prototype.saveData=function(){this.clearSavedData?(T.storage.remove(O.midat,this.tracker.cookieOptions.domain,this.tracker.cookieOptions.secure),T.merge(this.data,this.urlData)):(T.merge(this.data,this.cookieData,this.customData,this.urlData),T.isEmptyObject(this.data)||this.createDataCookie())},v.getDomains=function(){for(var t={protocol:"https",tracking:"ssl.micpn.com",content:"ssl.mi-content.com"},e=document.getElementsByTagName("script"),r=0;r<e.length;r++)if(e[r].src){var i=e[r].src.match(/^([a-z]+):\/\/(.+)\/p\/js\/\d+/);i&&(t={protocol:i[1],tracking:i[2],content:i[2].replace("micpn","mi-content")})}return t},v.getLocalStorage=function(){var t={};if(!T.isSupportedBrowser)return t;for(var e in O)if(O.hasOwnProperty(e)){var r=O[e],i=window.localStorage.getItem(r);if(!i)continue;var o=T.storage.parseCookie(r+"="+i),n=new Date(o.expires);if(n<=new Date){window.localStorage.removeItem(r);continue}t[r]=o.value}return t},v.getCookies=function(){var t={};if(""!==document.cookie)for(var e=document.cookie.split(";"),r=0;r<e.length;r++){var i=T.storage.parseCookie(e[r]);t[i.name]=i.value}return t},v.setup=function(){var t=new v;if(!t.trackingFunction.initialized){var e=t.trackingFunctionName;window[e]=function(){t.push.apply(t,arguments)},window[e].push=window[e],window[e].initialized=!0,t.init()}},v.validEventType=function(t){return"string"==typeof t&&t.length<=64&&/^[\w\._-]+$/.test(t)},v.prototype.init=function(){var t=this;this.userIdentifier=a(),this.companyId=w,this.campaignKey=-1,this.campaignTimestamp=new Date,this.espKey="",this.previousUserIdentifier=null,this.optOut=!1,this.hasCookie="false",this.products=[];var e={optOut:this.cookies[O.optOut]||b,local:d(this.cookies[O.mibhv],"host"),remote:d(k,"micpn"),campaign:m(this.cookies[O.micpn]||y),espCampaign:l(this.cookies[O.micpn]||y)};e.optOut&&(this.optOut=!0),e.campaign&&(this.campaignKey=e.campaign.campaignKey),e.espCampaign&&(this.campaignKey=e.espCampaign.campaignKey,this.espKey=e.espCampaign.espKey);var r=e.campaign&&e.campaign.timestamp||e.espCampaign&&e.espCampaign.timestamp;r&&(this.campaignTimestamp=r);var o;if(e.local&&!e.local.anonymous?o=e.local:e.remote&&!e.remote.anonymous?o=e.remote:e.local&&e.local.anonymous?o=e.local:e.remote&&e.remote.anonymous&&(o=e.remote),o&&(this.userIdentifier=o.user,this.hasCookie=o.hasCookie),e.local&&e.local.anonymous?this.previousUserIdentifier=e.local.user:e.remote&&e.remote.anonymous?this.previousUserIdentifier=e.remote.user:this.previousUserIdentifier=this.userIdentifier,this.customData=this.customJS._execute(),this.syncCampaignCookie(),this.customData&&"object"==typeof this.customData.params){var n=this.customData.params;for(var s in n)n.hasOwnProperty(s)&&n[s].length&&(this.urlParams[s]=n[s]);delete this.customData.params}if(this.urlParams.mi_u&&(this.userIdentifier=T.cleanString(this.urlParams.mi_u)),(this.urlParams.mi_cmp||this.urlParams.mi_ecmp)&&(this.campaignKey=T.cleanString(this.urlParams.mi_cmp||"-1"),this.espKey=this.urlParams.mi_ecmp||""),this.urlParams.mi_opt_out&&(this.optOut=!0),this.optOut)return T.storage.remove(O.mibhv,this.cookieOptions.domain,this.cookieOptions.secure),T.storage.remove(O.micpn,this.cookieOptions.domain,this.cookieOptions.secure),T.storage.remove(O.midat,this.cookieOptions.domain,this.cookieOptions.secure),p(this.cookieOptions),void 0;if(this.webContent.saveData(),this.webContent.populate(),this.sendPageEvents(),!this.urlParams.mi_cmp&&!this.urlParams.mi_ecmp||this.urlParams.mi_sc||this.push("click"),this.currentUrl=document.location.toString(),setInterval(function(){t.currentUrl!=document.location.toString()&&(t.currentUrl=document.location.toString(),t.urlParams=new i(document.location.search),t.customData=t.customJS._execute(),t.sendPageEvents())},A),this.elementEventPoller.start(),this.queue.length>0){T.log.debug("Loading "+this.queue.length+" queued events.");for(var s=0;s<this.queue.length;s++)this.push(this.queue[s])}T.log.debug("Initialized miconv.")},v.prototype.setCompanyId=function(t){this.companyId=t},v.prototype.setCookieDomain=function(t){this.cookieOptions.domain="."+t},v.prototype.enableKnownUserJailbreak=function(){this.knownUserJailbreak=!0},v.prototype.sendPageEvents=function(){"conversion"==this.customData.type&&this.push("conversion",this.customData),this.push("pageview",this.customData)},v.prototype.syncCampaignCookie=function(){if(""!==this.cookies[O.micpn]&&""!==y){var t=l(this.cookies[O.micpn])||m(this.cookies[O.micpn]),e=l(y)||m(y);t&&e&&t.timestamp<e.timestamp&&(this.campaignTimestamp=e.timestamp,this.espKey=e.espKey,this.campaignKey=e.campaignKey,s(this.campaignKey,this.espKey,this.campaignTimestamp.getTime(),this.cookieOptions))}},v.prototype.push=function(){if(!this.optOut){var t;if(t="string"==typeof arguments[0]?Array.prototype.slice.call(arguments,0):Array.prototype.slice.call(arguments[0],0),"send"===t[0])t.shift();else{if("addProduct"===t[0])return this.products.push(t[1]),void 0;if("addPromo"===t[0])return t[1]&&(t[1].promo=!0),this.products.push(t[1]),void 0}var e=t[0];if(v.validEventType(e)){var r;r=void 0===t[1]?{amount:0}:"string"==typeof t[1]||"number"==typeof t[1]?{amount:t[1]}:t[1];var o=(r.amount||r.revenue||"").toString().replace(/[^0-9\.]/g,"");r.amount=parseFloat(o)||0;var n=t[2],a=this.campaignTimestamp.getTime(),p=new i({t:(new Date).getTime(),mi_u:this.userIdentifier,mi_cid:this.companyId,page_title:document.title,referrer:document.referrer||document.referer,timezone_offset:(new Date).getTimezoneOffset(),event_type:e,conversion_id:n,cdate:a,ck:this.hasCookie,products:this.products.length?this.products:null});this.espKey&&(p.mi_ecmp=this.espKey),(u(this.previousUserIdentifier)&&!u(this.userIdentifier)||h(this.previousUserIdentifier,this.userIdentifier,this.knownUserJailbreak))&&(p.link=this.previousUserIdentifier),T.merge(p,r),this.sendData(p),this.previousUserIdentifier=null,this.hasCookie="host",c(this.userIdentifier,this.companyId,this.cookieOptions),e.match(/^conver(sion|t)/)?(this.products=[],T.storage.remove(O.micpn,this.cookieOptions.domain,this.cookieOptions.secure)):this.espKey||this.campaignKey?s(this.campaignKey,this.espKey,this.campaignTimestamp.getTime(),this.cookieOptions):this.cookies[O.micpn]||""===y||s(this.campaignKey,this.espKey,this.campaignTimestamp.getTime(),this.cookieOptions)}}},v.prototype.sendData=function(t){var e=[this.domains.protocol,"://",this.domains.tracking,P,this.campaignKey,"/track.gif"].join("");e+="?"+t.encode(),T.log.debug("Constructed URL: "+e),this.loadImage(e,function(){T.log.debug("Pushed event: "+this.campaignKey+" : "+t.event_type+", "+e)},function(){T.log.debug("Failed event: "+this.campaignKey+" : "+t.event_type+", "+e)})},v.prototype.loadImage=function(t,e,r){var i=new Image(1,1);i.onload=function(){e(),i.onload=null},i.onerror=function(){r(),i.onerror=null},i.src=t},v.setup()}();
